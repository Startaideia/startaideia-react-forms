(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{62:function(n,e,t){"use strict";t.r(e),t.d(e,"frontMatter",(function(){return l})),t.d(e,"metadata",(function(){return c})),t.d(e,"rightToc",(function(){return s})),t.d(e,"default",(function(){return f}));var a=t(2),r=t(6),o=(t(0),t(75)),i=t(83),l={id:"first-step",title:"First Steps",sidebar_label:"First Steps"},c={unversionedId:"first-step",id:"first-step",isDocsHomePage:!1,title:"First Steps",description:"The main component of this library is Form. It provides a context for the inputs and can handle loading, invalid states and form submission.",source:"@site/docs/first-step.md",permalink:"/startaideia-react-forms/docs/first-step",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/first-step.md",sidebar_label:"First Steps",sidebar:"someSidebar",previous:{title:"Installation",permalink:"/startaideia-react-forms/docs/installation"},next:{title:"Inputs",permalink:"/startaideia-react-forms/docs/inputs"}},s=[],u={rightToc:s};function f(n){var e=n.components,t=Object(r.a)(n,["components"]);return Object(o.b)("wrapper",Object(a.a)({},u,t,{components:e,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The main component of this library is ",Object(o.b)("strong",{parentName:"p"},"Form"),". It provides a context for the inputs and can handle loading, invalid states and form submission."),Object(o.b)("p",null,"Bellow, a simple example of a login form:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"live",live:!0}),'import { Form, Input, Button } from "@startaideia/react-forms"\n\nfunction LoginPage() {\n  function handleLogin(data) {\n    console.log(data) // { email: string, passoword: string }\n  }\n  return (\n    <Form onSubmit={handleLogin}>\n      <Input.Email isRequired />\n      <Input.Password />\n      <Form.Footer>\n        <Button.Submit text="Log In" />\n      </Form.Footer>\n    </Form>\n  )\n}\n')),Object(o.b)("p",null,"The code above will print the following component:"),Object(o.b)("div",{style:{padding:"30px 0px"}},Object(o.b)(i.b,{mdxType:"Form"},Object(o.b)(i.c.Email,{isRequired:!0}),Object(o.b)(i.c.Password,null),Object(o.b)(i.b.Footer,null,Object(o.b)(i.a.Submit,{text:"Log In"})))),Object(o.b)("p",null,"This is the power of ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.npmjs.com/package/@startaideia/react-forms"}),"@startaideia/react-forms"),". With just a fill lines of code, you have a full featured form with:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"A as-you-type data validation and user validation feedback"),Object(o.b)("li",{parentName:"ul"},"A simple interface to extract form data"),Object(o.b)("li",{parentName:"ul"},"A submit button that is disabled if the form is not valid"),Object(o.b)("li",{parentName:"ul"},"A full keyboard compatibility for mobile phone users")))}f.isMDXComponent=!0},83:function(n,e,t){"use strict";t.d(e,"a",(function(){return X})),t.d(e,"b",(function(){return ln})),t.d(e,"c",(function(){return rn}));var a=t(0),r=t.n(a),o=t(100),i=t(95),l=t.n(i),c=t(96),s=t(101),u=t.n(s),f=t(102),m=t.n(f),p=t(99),d=t.n(p),b=t(108),v=t(103),g=t.n(v),h=t(104),x=t.n(h),y=t(106),j=t(107);function O(){return(O=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n}).apply(this,arguments)}function k(n,e){if(null==n)return{};var t,a,r={},o=Object.keys(n);for(a=0;a<o.length;a++)t=o[a],e.indexOf(t)>=0||(r[t]=n[t]);return r}function S(n,e){return e||(e=n.slice(0)),n.raw=e,n}var E={colors:{transparent:"transparent",valid:"#48BB78",invalid:"#F56565",black:"#2D3748",white:"#fff",primary:"#3f51b5"},fonts:{body:"'Roboto', sans-serif"},fontSize:{xs:"12px",sm:"14px",md:"16px",lg:"18px",xl:"20px"},components:{input:"\n      border-width: 0px 0px 1px 0px;\n    "}};function C(n){return function(e){var t=e.theme;return l.a.get(t,n,l.a.get(E,n,""))}}function w(){var n=S(["\n  position: absolute;\n  width: 100%;\n  height: auto;\n  max-height: 100px;\n  top: 40px;\n  left: 0px;\n  background: ",";\n  border: 1px solid #e6e6e6;\n  z-index: 9;\n  padding: 0;\n  list-style: none;\n  font-family: ",";\n  font-size: ",";\n  display: none;\n\n  &.has-focus {\n    display: block;\n  }\n\n  li {\n    padding: 8px 10px;\n    color: ",";\n\n    &:hover {\n      cursor: pointer;\n      background: ",";\n      color: ",";\n    }\n  }\n\n  ",";\n"]);return w=function(){return n},n}var N=o.a.ul(w(),C("colors.white"),C("fonts.body"),C("fontSize.sm"),C("colors.black"),C("colors.primary"),C("colors.white"),C("components.dropdown"));function P(){var n=S(["\n  margin: 5px 0;\n  display: block;\n  color: ",";\n  font-family: ",";\n  padding: 0;\n  font-size: ",";\n\n  &.is-invalid {\n    color: ",";\n  }\n\n  &.is-valid {\n    color: ",";\n  }\n"]);return P=function(){return n},n}var F=o.a.p(P(),C("colors.black"),C("fonts.body"),C("fontSize.xs"),C("colors.invalid"),C("colors.valid"));function L(){var n=S(["\n  font-family: ",";\n  border: 1px solid ",";\n  background: ",";\n  color: ",";\n  font-weight: bold;\n  outline: none;\n  padding: 8px 20px;\n  font-size: ",";\n  margin-top: 5px;\n  border-radius: 5px;\n  transition: ease 0.25s;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:active {\n    transform: scale(1.05);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n  }\n\n  ",";\n"]);return L=function(){return n},n}var I=o.a.button(L(),C("fonts.body"),C("colors.primary"),C("colors.primary"),C("colors.white"),C("fontSize.sm"),C("components.button"));function V(){var n=S(["\n  padding-top: 8px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  .icon-container {\n    position: absolute;\n    right: 0;\n    bottom: 2px;\n    font-size: ",";\n    color: ",";\n    height: 30px;\n    min-width: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &:focus {\n      border-color: ",";\n    }\n\n    &.is-invalid {\n      color: ",";\n    }\n\n    &.is-valid {\n      color: ",";\n    }\n\n    &.has-before-icon {\n      left: 0;\n      right: inherit;\n    }\n  }\n"]);return V=function(){return n},n}var z=o.a.div(V(),C("fontSize.lg"),C("colors.black"),C("colors.primary"),C("colors.invalid"),C("colors.valid"));function J(){var n=S(["\n  height: 30px;\n  border: 1px solid #ccc;\n  border-radius: 0px;\n  outline: none;\n  padding: 0px 10px;\n  font-family: ",";\n  color: ",";\n  font-size: ",";\n  transition: 0.25s;\n  flex-grow: 1;\n\n  &:focus {\n    border-color: ",";\n  }\n\n  &.is-invalid {\n    color: ",";\n    border-color: ",";\n  }\n\n  &.is-valid {\n    color: ",";\n    border-color: ",";\n  }\n\n  &.has-before-icon {\n    padding-left: 30px;\n  }\n\n  ","\n"]);return J=function(){return n},n}var R=o.a.input(J(),C("fonts.body"),C("colors.black"),C("fontSize.sm"),C("colors.primary"),C("colors.invalid"),C("colors.invalid"),C("colors.valid"),C("colors.valid"),C("components.input"));function T(){var n=S(["\n  margin-bottom: 5px;\n  display: block;\n  color: ",";\n  font-family: ",";\n  font-weight: bold;\n  font-size: ",";\n\n  &.has-focus {\n    color: ",";\n  }\n\n  &.is-invalid {\n    color: ",";\n  }\n\n  &.is-valid {\n    color: ",";\n  }\n"]);return T=function(){return n},n}var A=o.a.label(T(),C("colors.black"),C("fonts.body"),C("fontSize.sm"),C("colors.primary"),C("colors.invalid"),C("colors.valid"));function B(){var n=S([""]);return B=function(){return n},n}var _=o.a.form(B()),q={isLoading:!1,fields:[],currentValue:{},validationRules:{},validationState:{}},D=r.a.createContext({});function M(n){var e=n.initialValue,t=void 0===e?{}:e,o=n.children,i=Object(a.useState)(O({initialValue:t},q)),l=i[0],c=i[1];return r.a.createElement(D.Provider,{value:{isValid:function(){for(var n in l.validationState)if(!l.validationState[n])return!1;return!0},state:l,setState:c}},o)}var X={Submit:function(n){var e=n.text,t=k(n,["text"]),o=Object(a.useContext)(D),i=o.isValid,l=o.state.isLoading;return r.a.createElement(I,Object.assign({disabled:!i()||l,type:"submit"},t),e)}};function H(n){var e=n.value,t=u()(String(e)).replace(/[^\d\p{L}]/g,"");return 0===t.length||function(n){if(""===n)return!1;if(14!==n.length)return!1;if("00000000000000"===n||"11111111111111"===n||"22222222222222"===n||"33333333333333"===n||"44444444444444"===n||"55555555555555"===n||"66666666666666"===n||"77777777777777"===n||"88888888888888"===n||"99999999999999"===n)return!1;for(var e=n.length-2,t=n.substring(0,e),a=n.substring(e),r=0,o=e-7,i=e;i>=1;i--)r+=t.charAt(e-i)*o--,o<2&&(o=9);var l=r%11<2?0:11-r%11;if(l!==a.charAt(0))return!1;e+=1,t=n.substring(0,e),r=0,o=e-7;for(var c=e;c>=1;c--)r+=t.charAt(e-c)*o--,o<2&&(o=9);return(l=r%11<2?0:11-r%11)===a.charAt(1)}(t)?null:"N\xe3o \xe9 um CNPJ v\xe1lido"}function U(n){var e=n.value,t=u()(String(e)).replace(/[^\d\p{L}]/g,"");return 0===t.length||function(n){if(!n||11!==n.length||"00000000000"===n||"11111111111"===n||"22222222222"===n||"33333333333"===n||"44444444444"===n||"55555555555"===n||"66666666666"===n||"77777777777"===n||"88888888888"===n||"99999999999"===n)return!1;for(var e,t=0,a=1;a<=9;a++)t+=parseInt(n.substring(a-1,a))*(11-a);if(10!==(e=10*t%11)&&11!==e||(e=0),e!==parseInt(n.substring(9,10)))return!1;for(t=0,a=1;a<=10;a++)t+=parseInt(n.substring(a-1,a))*(12-a);return 10!==(e=10*t%11)&&11!==e||(e=0),e===parseInt(n.substring(10,11))}(t)?null:"N\xe3o \xe9 um CPF v\xe1lido"}function W(n){var e=n.mask,t=void 0!==e&&e;return[[10,14],[11,15],[12,18],[13,19]][(n.country?[2,3]:[0,1])[n.mobile?1:0]][t?1:0]}function G(n){var e=n.country,t=n.mobile,a=n.phone;return function(n){var r=e?"+## (##)":"(##)",o=W({country:e,mobile:t,phone:a});return t&&a?n.length<o?d.a.apply(n,r+" ####-####"):d.a.apply(n,r+" #####-####"):t?d.a.apply(n,r+" #####-####"):a?d.a.apply(n,r+" ####-####"):n}}var K={__proto__:null,isRequired:function(n){var e=n.value;return e?0===String(e).replace(/\s/g,"").length?"Campo obrigat\xf3rio":null:"Campo obrigat\xf3rio"},isCPFCNPJ:function(n){var e=n.value,t=u()(String(e)).replace(/[^\d\p{L}]/g,"");return 0===t.length?null:t.length<=11?U({value:t}):H({value:t})},isLength:function(n){var e=n.value,t=n.params,a=u()(String(e)),r=t.exact;if(0===a.length)return null;if(r&&a.length===r)return null;if(r&&a.length!==r)return"O campo precisa ter "+r+" caracteres";if(!m()(a,t)){var o=t.min,i=t.max;return o&&i?"O campo precisa ter entre "+o+" e "+i+" caracteres":o?"O campo precisa ter no m\xednimo "+o+" caracteres":"O campo precisa ter no m\xe1ximo "+i+" caracteres"}return null},isPhone:function(n){var e=n.value,t=n.params,a=u()(String(e));if(0===a.length)return null;if(a.length<W(t))return"Telefone muito curto";var r=Object(b.a)(a,"BR");return(null==r?void 0:r.isValid())?null:"N\xe3o \xe9 um telefone v\xe1lido"},isEqual:function(n){var e=n.value,t=n.params;return g()(e,t)?null:"O valor deste campo est\xe1 incorreto"},isEmail:function(n){var e=n.value.replace(/\s/g,"");return 0===e.length||x()(e)?null:"N\xe3o \xe9 um e-mail v\xe1lido"},isCNPJ:H,isCPF:U};function Q(n){var e=n.beforeIcon,t=n.afterIcon,a=n.errors,r=n.touched,o=[];return n.focus&&o.push("has-focus"),r&&a&&o.push("is-invalid"),r&&!a&&o.push("is-valid"),e&&(o.push("has-icon"),o.push("has-before-icon")),t&&(o.push("has-icon"),o.push("has-after-icon")),o.join(" ")}function Y(n,e){void 0===e&&(e={});var t=Object(a.useContext)(D),r=t.state,o=t.setState,i=O({},r);function c(){var e=l.a.get(i,"initialValue."+n,"");return l.a.get(i,"currentValue."+n,e)}function s(){var t=function(n,e,t){var a=[];for(var r in t)if(t[r]){var o=K[r]({name:n,value:e,params:t[r]});o&&a.push(o)}return a.length>0?a:null}(n,c(),e);return o((function(e){var a;return O({},e,{validationState:O({},e.validationState,(a={},a[n]=!t,a))})})),t}return Object(a.useEffect)((function(){o((function(t){var a=[].concat(t.fields,[n]);return O({},l.a.set(t,"currentValue."+n,c()),l.a.set(t,"validationRules."+n,e),{fields:a})})),s()}),[n,e]),{onChange:function(e){o(O({},l.a.set(i,"currentValue."+n,e)))},getValue:c,getRules:function(){return l.a.get(i,"validationRules."+n,{})},validate:s,value:c()}}function Z(n){var e=n.name,t=n.label,o=n.mask,i=n.beforeIcon,s=n.afterIcon,u=k(n,["name","label","mask","beforeIcon","afterIcon"]),f=Object(a.useState)(l.a.pick(u,l.a.keys(K)))[0],m=Object(a.useState)(l.a.pick(u,["xs","sm","md","lg","xl","xxl"]))[0],p=Y(e,f),b=p.onChange,v=p.getValue,g=p.validate,h=Object(a.useState)(null),x=h[0],y=h[1],j=Object(a.useState)(!1),O=j[0],S=j[1],E=Object(a.useState)(!1),C=E[0],w=E[1],N=l.a.omit(u,l.a.keys(K)),P=Q({beforeIcon:i,afterIcon:s,errors:x,touched:C,focus:O});return r.a.createElement(c.Col,Object.assign({xs:12},m),r.a.createElement(z,{className:P},t&&r.a.createElement(A,{className:P},t),(i||s)&&r.a.createElement("div",{className:"icon-container "+P},i||s),r.a.createElement(R,Object.assign({name:e,onChange:function(n){var e=n.target.value;if(o){var t=e.replace(/[^\d\p{L}]/g,"");e="string"==typeof o?d.a.apply(t,o):o(t)}b(e),y(g())},onBlur:function(){w(!0),S(!1),C||y(g())},onFocus:function(){return S(!0)},value:v(),className:P},N))),C&&(null==x?void 0:x.map((function(n,e){return r.a.createElement(F,{className:P,key:e},n)}))))}function $(){var n=S(["\n  height: 15px;\n  width: 15px;\n  border: 2px solid ",";\n  border-radius: 5px;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ",";\n  transition: linear 0.25s;\n  margin-right: 10px;\n\n  &:hover {\n    border-color: ",";\n  }\n\n  &.checked {\n    background: ",";\n    color: ",";\n    border-color: ",";\n  }\n"]);return $=function(){return n},n}function nn(){var n=S(["\n  font-family: ",";\n  display: flex;\n  color: ",";\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return nn=function(){return n},n}var en=o.a.div(nn(),C("fonts.body"),C("colors.black")),tn=o.a.div($(),C("colors.black"),C("colors.transparent"),C("colors.primary"),C("colors.primary"),C("colors.white"),C("colors.primary"));function an(n){var e="##.###.###/####-##";return n.length<=11&&(e="###.###.###-##"),d.a.apply(n,e)}var rn={Checkbox:function(n){var e=n.name,t=n.label,o=n.value,i=void 0===o?"on":o,s=n.text,u=k(n,["name","label","value","text"]),f=Object(a.useState)(l.a.pick(u,["xs","sm","md","lg","xl","xxl"]))[0],m=Object(a.useState)(l.a.pick(u,l.a.keys(K)))[0],p=Object(a.useState)(null),d=p[0],b=p[1],v=Object(a.useState)(!1),g=v[0],h=v[1],x=Y(e,m),j=x.onChange,O=x.getValue,S=x.validate,E=Q({errors:d,touched:g});function C(){return O()===i}return r.a.createElement(c.Col,Object.assign({xs:12},f),r.a.createElement(z,null,t&&r.a.createElement(A,null,t),r.a.createElement(en,{onClick:function(){j(C()?null:i),b(S()),h(!0)}},r.a.createElement(tn,{className:C()?"checked":""},r.a.createElement(y.a,null)),s)),g&&(null==d?void 0:d.map((function(n,e){return r.a.createElement(F,{className:E,key:e},n)}))))},Password:function(n){var e=O({},n);return r.a.createElement(Z,Object.assign({isRequired:!0,isLength:{min:6,max:16},name:"password",type:"password",label:"Senha",maxLength:16},e))},CPFCNPJ:function(n){var e=O({},n);return r.a.createElement(Z,Object.assign({mask:an,maxLength:18,isCPFCNPJ:!0,name:"cpf_cnpj",type:"text",label:"CPF ou CNPJ",inputmode:"numeric"},e))},Select:function(n){var e=n.name,t=n.label,o=n.source,i=k(n,["name","label","source"]),s=Object(a.useState)(l.a.pick(i,["xs","sm","md","lg","xl","xxl"]))[0],u=Object(a.useState)(l.a.pick(i,l.a.keys(K)))[0],f=Object(a.useState)(null),m=f[0],p=f[1],d=Object(a.useState)(null),b=d[0],v=d[1],g=Object(a.useState)(o),h=g[0],x=g[1],y=Object(a.useState)(""),O=y[0],S=y[1],E=Object(a.useState)(!1),C=E[0],w=E[1],P=Object(a.useState)(!1),L=P[0],I=P[1],V=Q({focus:L,touched:C,errors:m}),J=Y(e,u),T=J.onChange,B=J.validate,_=J.value;function q(n,e){return function(){n.value!==(null==b?void 0:b.value)&&(v(n),T(n.value),p(B()),w(e))}}return Object(a.useEffect)((function(){if(!l.a.isEqual(h,o))return x(o),void v(null);x(o)}),[o]),Object(a.useEffect)((function(){if(_){var n=h.find((function(n){return n.value===_}));(null==n?void 0:n.value)!==(null==b?void 0:b.value)&&q(n,!1)()}}),[_]),r.a.createElement(c.Col,Object.assign({xs:12},s),r.a.createElement(z,{className:V},t&&r.a.createElement(A,{className:V},t),r.a.createElement(R,{value:L?O:(null==b?void 0:b.label)||"",onChange:function(n){S(n.target.value)},onBlur:function(){I(!1)},onFocus:function(){I(!0)},className:V}),b&&r.a.createElement("div",{className:"icon-container has-after-icon"},r.a.createElement(j.a,{onClick:function(){v(null),T(null),p(B()),w(!0)}})),r.a.createElement(N,{className:V},h.filter((function(n){return e=O,-1!==n.label.toLowerCase().indexOf(e.toLowerCase());var e})).map((function(n){return r.a.createElement("li",{key:n.value,onMouseDown:q(n,!0)},n.label)})))),null==m?void 0:m.map((function(n,e){return r.a.createElement(F,{className:V,key:e},n)})))},Email:function(n){var e=O({},n);return r.a.createElement(Z,Object.assign({isEmail:!0,name:"email",type:"email",label:"E-mail"},e))},Phone:function(n){var e=n.country,t=void 0!==e&&e,a=n.phone,o=void 0===a||a,i=n.mobile,l=void 0===i||i,c=k(n,["country","phone","mobile"]);return r.a.createElement(Z,Object.assign({mask:G({country:t,mobile:l,phone:o}),name:"phone",type:"tel",label:"Telefone",inputmode:"numeric",maxLength:W({country:t,mobile:l,mask:!0}),isPhone:{country:t,mobile:!o&&l,phone:o,mask:!0}},c))},Text:Z,CNPJ:function(n){var e=O({},n);return r.a.createElement(Z,Object.assign({mask:"##.###.###/####-##",maxLength:18,isCNPJ:!0,name:"cnpj",type:"text",label:"CNPJ",inputmode:"numeric"},e))},CPF:function(n){var e=O({},n);return r.a.createElement(Z,Object.assign({mask:"###.###.###-##",maxLength:14,isCPF:!0,name:"cpf",type:"text",label:"CPF",inputmode:"numeric"},e))},CEP:function(n){var e=O({},n);return r.a.createElement(Z,Object.assign({mask:"#####-###",name:"cep",label:"CEP",inputmode:"numeric",isLength:{exact:9},maxLength:9},e))}};function on(n){var e=n.onSubmit,t=n.children,o=Object(a.useContext)(D),i=o.state,l=o.setState;return r.a.createElement(_,{onSubmit:function(n){try{return n.preventDefault(),l(O({},i,{isLoading:!0})),e?Promise.resolve(e(O({},i.currentValue))).then((function(){l(O({},i,{isLoading:!1}))})):Promise.resolve()}catch(n){return Promise.reject(n)}}},r.a.createElement(c.Container,null,r.a.createElement(c.Row,null,t)))}function ln(n){var e=n.initialValue,t=n.children,a=k(n,["initialValue","children"]);return r.a.createElement(M,{initialValue:e},r.a.createElement(on,Object.assign({},a),t))}ln.Footer=function(n){var e=n.xs,t=void 0===e?12:e,a=n.children;return r.a.createElement(c.Col,{xs:t},a)}}}]);